name: Claude Simple Integration

on:
  issues:
    types: [opened, labeled]
  issue_comment:
    types: [created]

permissions:
  issues: write

jobs:
  respond-to-claude:
    name: Respond to Claude
    runs-on: ubuntu-latest
    if: |
      (github.event_name == 'issues' && contains(github.event.issue.labels.*.name, 'claude')) ||
      (github.event_name == 'issue_comment' && contains(github.event.comment.body, '@claude'))
    
    steps:
    - name: Setup GitHub CLI
      run: |
        echo "Setting up GitHub CLI with default token..."
        
    - name: Respond to Issue
      env:
        GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      run: |
        echo "ğŸ¤– Processing Claude request..."
        
        if [[ "${{ github.event_name }}" == "issues" ]]; then
          ISSUE_NUMBER="${{ github.event.issue.number }}"
          
          gh issue comment $ISSUE_NUMBER \
            --repo ${{ github.repository }} \
            --body "ğŸ¤– **Claude æ•´åˆæ¸¬è©¦æˆåŠŸï¼**
            
å·²åµæ¸¬åˆ° \`claude\` æ¨™ç±¤ã€‚GitHub Actions æ­£å¸¸é‹ä½œã€‚

**å»ºè­°çš„ä¸‹ä¸€æ­¥ï¼š**
1. é–‹å•Ÿ [Claude.ai](https://claude.ai)
2. è²¼ä¸Šæ­¤ issue çš„å…§å®¹
3. è«‹ Claude å”åŠ©å¯¦ä½œåŠŸèƒ½

---
*æ­¤è¨Šæ¯ç”± GitHub Actions è‡ªå‹•ç”¢ç”Ÿ*"
            
        elif [[ "${{ github.event_name }}" == "issue_comment" ]]; then
          ISSUE_NUMBER="${{ github.event.issue.number }}"
          
          gh issue comment $ISSUE_NUMBER \
            --repo ${{ github.repository }} \
            --body "ğŸ¤– **å·²æ”¶åˆ° @claude æåŠï¼**
            
GitHub Actions æ•´åˆé‹ä½œæ­£å¸¸ã€‚è«‹åœ¨ Claude.ai ä¸­ç¹¼çºŒå°è©±ã€‚"
        fi